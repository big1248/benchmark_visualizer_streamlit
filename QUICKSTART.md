# 🚀 LLM 벤치마크 시각화 도구 v2.2 - 빠른 시작 가이드

## 📦 설치

### 1. 파일 받기
```bash
# 업데이트된 파일 다운로드
# llm_benchmark_visualizer_updated.py

# 기존 파일 백업 (선택사항)
cp llm_benchmark_visualizer.py llm_benchmark_visualizer_backup.py

# 새 파일로 교체
mv llm_benchmark_visualizer_updated.py llm_benchmark_visualizer.py
```

### 2. 의존성 설치
```bash
pip install streamlit pandas plotly numpy scipy
```

또는 requirements.txt 사용:
```bash
pip install -r requirements.txt
```

## 🎮 실행

### 기본 실행
```bash
streamlit run llm_benchmark_visualizer.py
```

브라우저가 자동으로 열리지 않으면:
```
http://localhost:8501
```

## 📁 데이터 준비

### 필수 파일 구조
```
프로젝트_폴더/
├── testset_산업안전기사.csv              # 테스트셋
├── testset_방재기사.csv                   # 테스트셋
├── GPT-4o_detailed_no-prompting_산업안전기사.csv      # 벤치마크 결과
├── Claude-3-5-Sonnet_summary_no-prompting_산업안전기사.csv
└── ... (기타 결과 파일)
```

### 파일명 규칙
```
{모델명}_{상세도}_{프롬프팅}_{테스트명}.csv

예시:
✅ GPT-4o_detailed_no-prompting_산업안전기사.csv
✅ Claude-3-5-Haiku_summary_few-shot_방재기사.csv
```

## 🎨 주요 기능

### 1️⃣ 필터 사용하기

**사이드바에서 필터 선택:**
- 테스트명: 분석할 시험 선택
- 모델: 비교할 모델 선택
- 상세도: detailed/summary
- 프롬프팅: no-prompting/few-shot/cot
- **세션**: 특정 세션만 분석 (NEW!)
- 법령 구분: 법령/비법령 문제
- **문제 유형**: 텍스트/이미지 (NEW!)

### 2️⃣ 탭 둘러보기

1. **📊 전체 요약**: 전반적인 통계 확인
2. **🏆 모델별 비교**: 모델 성능 직접 비교
3. **📚 테스트별 분석**: 시험별 성능 분석
4. **⚖️ 법령/비법령 분석**: 법령 문제 vs 비법령 문제
5. **📖 과목별 분석**: 과목별 강약점 파악
6. **📅 연도별 분석**: 연도별 성능 추이
7. **❌ 오답 분석** ⭐ NEW: 어려운 문제 분석
8. **📊 난이도 분석** ⭐ NEW: 문제 난이도별 성능

## 💡 사용 시나리오

### 시나리오 1: 최고 성능 모델 찾기
```
1. "🏆 모델별 비교" 탭으로 이동
2. 정확도 순으로 정렬된 결과 확인
3. 상세 통계 테이블에서 세부 정보 확인
```

### 시나리오 2: 특정 과목 강한 모델 찾기
```
1. "📖 과목별 분석" 탭으로 이동
2. 분석할 테스트 선택
3. 히트맵에서 모델 × 과목 성능 확인
```

### 시나리오 3: 오답 패턴 분석
```
1. "❌ 오답 분석" 탭으로 이동 ⭐ NEW
2. "오답률 높은 문제 Top 20" 확인
3. "모델별 공통 오답 문제"에서 데이터셋 품질 점검
4. "특정 모델의 강점 문제"에서 모델 선택 전략 수립
```

### 시나리오 4: 난이도별 성능 비교
```
1. "📊 난이도 분석" 탭으로 이동 ⭐ NEW
2. 문제 난이도 분포 확인
3. 난이도별 모델 성능 라인 차트 분석
4. 어려운 문제에 강한 모델 식별
```

### 시나리오 5: 이미지 문제 성능 비교
```
1. 사이드바에서 "문제 유형: 이미지 포함" 선택 ⭐ NEW
2. "🏆 모델별 비교" 탭에서 멀티모달 성능 확인
3. "❌ 오답 분석"에서 이미지 문제의 약점 파악
```

## ⚙️ 설정

### 폰트 크기 조절
사이드바 상단 "🎨 화면 설정"에서:
- 작게
- 보통
- 크게 (기본값)
- 매우 크게

### 데이터 디렉토리 변경
```
사이드바 상단 "데이터 디렉토리 경로" 입력란에서:
- 현재 디렉토리: .
- 특정 경로: /path/to/data
```

## 🐛 문제 해결

### 문제: "결과 파일을 찾을 수 없습니다" 오류

**원인**: 벤치마크 결과 CSV 파일이 없거나 파일명이 규칙과 맞지 않음

**해결책**:
1. 파일명 확인:
   ```bash
   ls -la *.csv
   ```

2. 파일명 형식 확인:
   ```
   {모델}_{상세도}_{프롬프팅}_{테스트명}.csv
   ```

3. 지원 모델명:
   - GPT-4o
   - GPT-4o-Mini
   - Claude-3-5-Sonnet
   - Claude-3-5-Haiku
   - Claude-Sonnet-4

### 문제: 방재기사 데이터가 안 나타남

**원인**: 방재기사 벤치마크 테스트를 아직 실행하지 않음

**해결책**:
1. 테스트셋 확인: `testset_방재기사.csv` 존재 확인
2. 벤치마크 실행:
   ```bash
   # 프로젝트의 벤치마크 스크립트 실행
   ./run_benchmark.py --test 방재기사
   ```
3. 결과 파일 생성 확인

자세한 내용: `방재기사_데이터_누락_분석.md` 참조

### 문제: 특정 컬럼(Session, image 등)이 없어서 필터가 안 보임

**원인**: 데이터에 해당 컬럼이 없음

**해결책**:
- 걱정하지 마세요! 기본 기능은 모두 동작합니다
- 해당 필터만 자동으로 숨겨집니다
- 데이터에 컬럼을 추가하면 자동으로 필터가 나타납니다

### 문제: 한글이 깨져 보임

**원인**: CSV 파일 인코딩 문제

**해결책**:
- 도구가 자동으로 UTF-8과 CP949 인코딩을 시도합니다
- 여전히 문제가 있다면 CSV 파일을 UTF-8로 저장하세요

## 📊 데이터 형식

### 필수 컬럼
```csv
Question,Answer,예측답,정답여부
Q1,1,1,1
Q2,2,3,0
...
```

### 선택 컬럼 (있으면 더 많은 분석 가능)
```csv
Question,Answer,예측답,정답여부,Subject,Year,law,image,Session
Q1,1,1,1,안전관리론,2023,O,X,1
Q2,2,3,0,산업안전기술,2024,X,O,1
...
```

**컬럼 설명**:
- `Question`: 문제 식별자
- `Answer`: 정답
- `예측답`: 모델의 예측 답
- `정답여부`: 1(정답) / 0(오답)
- `Subject`: 과목명 (선택)
- `Year`: 출제 연도 (선택)
- `law`: 법령 여부 - O(법령) / X(비법령) (선택)
- `image`: 이미지 포함 - O(포함) / X(미포함) (선택)
- `Session`: 세션 번호 (선택)

## 🎓 팁과 트릭

### 팁 1: 필터 조합 활용
여러 필터를 동시에 사용하여 세밀한 분석:
```
예: 2023년 법령 문제 중 이미지가 포함된 문제에서 GPT-4o 성능
→ 연도: 2023 + 법령: 법령 + 문제유형: 이미지 포함 + 모델: GPT-4o
```

### 팁 2: 오답 분석으로 데이터셋 품질 체크
```
모든 모델이 틀리는 문제 → 문제 자체에 이슈 가능성
특정 모델만 맞추는 문제 → 해당 모델의 강점 영역
```

### 팁 3: 난이도 분석으로 적절한 문제 선별
```
정답률 40-60% 문제 → 변별력 높은 좋은 문제
정답률 0-20% 문제 → 너무 어려워 개선 필요 가능성
정답률 80-100% 문제 → 너무 쉬워 변별력 낮음
```

### 팁 4: 엑셀로 데이터 추출
```
1. 원하는 필터 적용
2. 상세 테이블 표시
3. 테이블 데이터 복사
4. 엑셀에 붙여넣기
```

## 🔗 관련 문서

- `UPDATE_v2_2.md`: 상세 업데이트 내용
- `방재기사_데이터_누락_분석.md`: 데이터 누락 문제 해결
- `README.md`: 프로젝트 전체 개요
- `GUIDE.md`: 상세 사용 가이드

## 📞 도움말

문제가 해결되지 않으면:
1. 프로젝트 문서 확인
2. 데이터 형식 재확인
3. 파일명 규칙 재확인
4. 터미널에서 에러 메시지 확인

---

**즐거운 분석 되세요!** 🚀

버전: v2.2
최종 업데이트: 2025-10-27